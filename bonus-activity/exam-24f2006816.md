# Bonus Activity â€“ Exam Questions
Roll Number: 24f2006816

---

## Question 1: FastAPI Role-Based Access Control

**Topic:** FastAPI, Authentication, RBAC

Create a FastAPI application with an endpoint `/admin`.

### Requirements:
- The request must include a header `X-User-Role`
- If the role is `admin`, return:
  {
    "status": "ok",
    "message": "Welcome admin"
  }
- If the role is missing or not `admin`, return HTTP status code 403

### Constraints:
- Use dependency injection (`Depends`)
- Do not hardcode validation logic inside the route function

---

## Question 2: CSV Data Aggregation in Python

**Topic:** Data Processing, CSV

Given a CSV file `orders.csv` with columns:
`order_id, category, amount`

Write a Python function that returns the total sales per category.

### Requirements:
- Output should be a dictionary
- Categories must be sorted alphabetically
- Ignore rows with missing or non-numeric amounts

---

## Question 3: REST API Error Handling

**Topic:** REST APIs, HTTP Status Codes

Design a REST endpoint `/divide` that accepts query parameters `a` and `b`.

### Requirements:
- If `b = 0`, return HTTP 400 with message `"Division by zero"`
- If parameters are missing, return HTTP 422
- Otherwise return:
  {
    "result": a / b
  }

---

## Question 4: JSON Normalization Task

**Topic:** JSON Processing

You are given the following JSON input:

[
  {"id": 1, "fullName": "Alice Smith", "email": "alice@example.com"}
]

Convert it into:

[
  {"id": 1, "first_name": "Alice", "last_name": "Smith", "email": "alice@example.com"}
]

### Requirements:
- Assume fullName always has exactly two words
- Preserve order
- Output must be valid JSON

---

## Question 5: LLM Function Calling Chain

**Topic:** LLMs, Agents, Function Calling

Design a function-calling sequence for an LLM agent that researches documentation and summarizes it.

### Available tools:
- search_docs(query)
- extract_text(doc_id)
- summarize(text, max_tokens)

### Task:
Return a JSON array representing the correct function call order to:
1. Search documents
2. Extract relevant text
3. Generate a summary
